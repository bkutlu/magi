extends ../layout
block body
	div(class="container", id="gene-annotations")
		h1 #{gene} mutation annotations

		table(class="table table-condensed table-hover", id="gene-annotation-table")
			thead
				tr(style="background:#e3e3e3")
					th Cancer
					th Mutation Class
					th Mutation type (optional)
					th Protein domain (optional)
					th Position (optional)
					th Support
			tbody
				-for (var i = 0; i < annotations.length; i++)
					-var A = annotations[i];
					tr
						td
							- var cancer = A.cancer.replace(/\w\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});
							| #{cancer}
						td #{A.mutation_class}
						td #{A.mutation_type}
						td #{A.domain}
						td #{A.position}
						td
							-for (var j = 0; j < A.support.length; j++)
								a(href="http://www.ncbi.nlm.nih.gov/pubmed/#{A.support[j].ref}", target="_new") #{A.support[j].ref}
		//- Load the required scripts
		script(src='/components/jquery/dist/jquery.min.js').
		script(src='/components/DataTables/media/js/jquery.dataTables.js').
		script(src='/js/dataTableWrapper.js').
		script(type='text/javascript').
			//- Make the gene annotation table sortable as a DataTable
			$(document).ready(function(){
				addDataTable({
					tableID: "#gene-annotation-table",
					aaSorting: [[0, "asc"]],
					aoColumns: [{ "asSorting": [ "asc", "desc" ] }, { "asSorting": [ "asc", "desc" ] }, null  ]
				});
			});
